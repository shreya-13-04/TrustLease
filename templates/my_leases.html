{% extends "base.html" %}
{% block content %}

<h2>My Leases</h2>

{% if leases %}
<div class="grid">
    {% for lease in leases %}
    <div class="card">
        <p><strong>Delegate:</strong> {{ lease.delegate }}</p>
        <p><strong>Resource:</strong> {{ lease.resource }}</p>
        <p><strong>Status:</strong>
            {% if lease.is_active %}
                <span class="badge success">ACTIVE</span>
            {% else %}
                <span class="badge danger">REVOKED</span>
            {% endif %}
        </p>
        <p><strong>Expires:</strong> {{ lease.end_time }}</p>

        {% if lease.is_active %}
        <a href="{{ url_for('main.revoke_lease', lease_id=lease.id) }}"
           class="btn danger"
           onclick="return confirm('Are you sure you want to revoke this lease?');">
            Revoke Lease
        </a>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% else %}
<p>No leases created yet.</p>
{% endif %}

{% endblock %}
